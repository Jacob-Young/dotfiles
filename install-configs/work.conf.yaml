- defaults:
    link:
      relink: true
    shell:
      quiet: false

# =============================================================================
# WORK: Create directories
# =============================================================================
# - create:
#   - ~/Personal/.ssh:
#       mode: 0700

# =============================================================================
# WORK: Link files
# =============================================================================
- link: # Need Brewfile before running `brew bundle`
    ~/.Brewfile: brewfiles/work.brewfile
    ~/.gitconfig.active: git/gitconfig.zed

# =============================================================================
# WORK: Run commands
# =============================================================================
- shell:
  - decscription: "Setting $HOME/.dotfiles file with location of WORK dotfiles repo"
    # We know that BASH_SOURCE will always be this file
    # So let's go up one directory to the dotfiles repo
    command: >
      touch "${HOME}/.dotfiles"
      && echo "$(cd "$(dirname "${BASH_SOURCE[0]}/..")" && pwd)" > "${HOME}/.dotfiles"

# -------------------------------------
# Brew Bundle
# -------------------------------------
- shell:
  - command: >
      echo "Starting brew bundle"

# - brewfile: # Calls brew bundle
#     include: ['tap', 'brew', 'cask', 'mas']
#     stdout: true
#     stderr: true
